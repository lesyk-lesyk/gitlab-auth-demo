<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Demo Window Opener: Redirect</title>
  </head>
  <body>
    Redirect page (check console)
  </body>
  <script>
    // 1. Get query from redirect URL
    const redirectQueryStr = location.search.substring(1);

    // 2.  Make object from all query params:
    const queryParams = new URLSearchParams(redirectQueryStr);
    const redirectData = {};
    queryParams.forEach(function (value, key) {
      redirectData[key] = value;
    });

    // 3. Log data
    console.log("Data from GitLab:", redirectData);

    // 4. Log code in opener tab
    window.opener.SUPER_TOOLS.logCode(redirectData["code"]);
  </script>
</html>
